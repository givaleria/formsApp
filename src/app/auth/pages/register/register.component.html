<h2>Reactive Validations</h2>
<hr>

<div class="row">
  <div class="col">
    <form [formGroup]="myForm"
          (ngSubmit)="submitForm()"
          autocomplete="off">

      <!-- Name -->
      <div class="row mb-3">
        <label class="col-sm-3 col-form-label">Name</label>
        <div class="col-sm-9">
            <input type="text"
                   class="form-control"
                   formControlName="name"
                   placeholder="User's name">

            <span class="form-text text-danger"
                  *ngIf="invalidField('name')">
                Must be full name format.
            </span>
        </div>
      </div>


      <!-- Email -->
      <div class="row mb-3">
        <label class="col-sm-3 col-form-label">Email</label>
        <div class="col-sm-9">
            <input type="email"
                   class="form-control"
                   formControlName="email"
                   placeholder="User's email">

            <span class="form-text text-danger"
                  *ngIf="invalidField('email')">
                  {{emailErrorMsg}}
            </span>
        </div>
      </div>


      <!-- Username -->
      <div class="row mb-3">
        <label class="col-sm-3 col-form-label">Username</label>
        <div class="col-sm-9">
            <input type="text"
                   class="form-control"
                   formControlName="username"
                   placeholder="User's nickname">

            <span class="form-text text-danger"
                  *ngIf="invalidField('username')">
                  Username cannot be Strider.
            </span>
        </div>
      </div>


      <!-- Password -->
      <div class="row mb-3">
        <label class="col-sm-3 col-form-label">Password</label>
        <div class="col-sm-9">
            <input type="password"
                   class="form-control"
                   formControlName="password"
                   placeholder="Account password">

            <span class="form-text text-danger"
                  *ngIf="invalidField('password')">
                  Must be greater than 6 characters.
            </span>
        </div>
      </div>

      <!-- Password2 -->
      <div class="row mb-3">
        <label class="col-sm-3 col-form-label">Confirm Password</label>
        <div class="col-sm-9">
            <input type="password"
                   class="form-control"
                   formControlName="password2"
                   placeholder="Confirm password">

            <span class="form-text text-danger"
                  *ngIf="invalidField('password2')">
                  Passwords must be equals.
            </span>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <button class="btn btn-primary float-end"
                  type="submit"
                  [disabled]="myForm.pending">
            Save
          </button>
        </div>
      </div>

    </form>
  </div>
</div>

<div class="row">
  <div class="col">
    <h3>Form Data</h3>
    <hr>
    <span>Valid</span>
    <pre>{{myForm.valid}}</pre>
    <br>
    <span>Status</span>
    <pre>{{myForm.status}}</pre>
    <br>
    <span>Name</span>
    <pre>{{myForm.controls['name'].errors | json}}</pre>
    <br>
    <span>Email</span>
    <pre>{{myForm.controls['email'].errors | json}}</pre>
    <br>
    <span>Username</span>
    <pre>{{myForm.controls['username'].errors | json}}</pre>
    <br>
    <span>Password</span>
    <pre>{{myForm.controls['password'].errors | json}}</pre>
    <br>
    <span>Password2</span>
    <pre>{{myForm.controls['password2'].errors | json}}</pre>
  </div>
</div>
